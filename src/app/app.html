  <div class="flex h-screen bg-background">
      <!-- Sidebar wrapper with conditional width (React pattern) -->
      <div [class]="getSidebarWrapperClasses()" class="h-full transition-all duration-300 ease-in-out overflow-hidden flex-shrink-0">
        <app-sidebar
          [activeItem]="activeItem()"
          [currentUser]="currentUser()"
          (navigate)="handleNavigate($event)"
        ></app-sidebar>
      </div>
      
      <!-- Main content area -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Header -->
        <app-header
          [title]="getCurrentPageTitle()"
          [subtitle]="getCurrentPageSubtitle()"
          [currentUser]="currentUser()"
          [availableRoles]="availableRoles()"
          [showSidebarToggle]="true"
          [isSidebarCollapsed]="isSidebarCollapsed()"
          (toggleSidebar)="toggleSidebar()"
          (roleChange)="handleRoleChange($event)"
        ></app-header>
        
        <!-- Page content -->
        <main class="flex-1 overflow-auto bg-background">
          <router-outlet></router-outlet>
        </main>
      </div>
    </div>